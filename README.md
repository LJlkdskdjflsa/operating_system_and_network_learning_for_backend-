# OS & Network å¾Œç«¯å¯¦æˆ°å­¸ç¿’

> ç”¨ã€Œå­¸ç¿’ + å¯¦ä½œã€çš„æ–¹å¼ï¼ŒæŠŠ OS / Network æ‰“æˆå¯ç›´æ¥ç”¨åœ¨å¾Œç«¯çš„ç¡¬åŠŸï¼Œä»¥ Rust ç‚ºä¸»è¦èªè¨€ã€‚

---

## å­¸ç¿’ç›®æ¨™

å®Œæˆé€™ä»½æ•™æå¾Œï¼Œä½ å°‡èƒ½å¤ ï¼š

- **ç³»çµ±å±¤é¢**ï¼šç†è§£ç¨‹å¼åœ¨ OS ä¸Šå¦‚ä½•é‹ä½œï¼ˆprocessã€memoryã€I/Oï¼‰
- **ç¶²è·¯å±¤é¢**ï¼šç†è§£ TCP/HTTP/TLS çš„é‹ä½œæ©Ÿåˆ¶
- **å¯¦æˆ°èƒ½åŠ›**ï¼šèƒ½å¯«å‡ºé«˜æ•ˆèƒ½çš„å¾Œç«¯æœå‹™ï¼Œä¸¦å…·å‚™è¨ºæ–·å•é¡Œçš„èƒ½åŠ›
- **Rust ç†Ÿç·´åº¦**ï¼šæŒæ¡ Rust åœ¨ç³»çµ±ç¨‹å¼è¨­è¨ˆå’Œä¸¦è¡Œè™•ç†ä¸Šçš„æ‡‰ç”¨

---

## èª²ç¨‹æ¶æ§‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç¬¬ä¸€ç« ï¼šåŸºç¤æ‰“åº•                                                 â”‚
â”‚  Rust æ ¸å¿ƒ + Linux ç’°å¢ƒ                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¬¬äºŒç« ï¼šOS å‘                                                    â”‚
â”‚  Process / Thread / Memory / I/O                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¬¬ä¸‰ç« ï¼šNetwork å‘                                               â”‚
â”‚  TCP / HTTP / TLS / Proxy                                       â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ç¬¬å››ç« ï¼šç¶œåˆå°ˆæ¡ˆ                                                 â”‚
â”‚  REST æœå‹™ + è§€æ¸¬ + èª¿å„ª                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ç« ç¯€ç›®éŒ„

### [ç¬¬ä¸€ç« ï¼šåŸºç¤æ‰“åº•](./chapter_01_foundation/)
**ç›®æ¨™**ï¼šå»ºç«‹ Rust å’Œ Linux çš„åŸºæœ¬åŠŸ

| ä¸»é¡Œ | å­¸ç¿’å…§å®¹ | å¯¦ä½œ |
|------|---------|------|
| Rust å¼·åŒ– | æ‰€æœ‰æ¬Šã€å€Ÿç”¨ã€éŒ¯èª¤è™•ç†ã€Arc/Mutex/Channel | Mini Cat/Grepã€å¹³è¡Œè¨ˆç®— |
| Linux åŸºç¤ | processã€fdã€syscallã€/proc | strace è§€å¯Ÿã€Mini PS |

### ç¬¬äºŒç« ï¼šOS å‘ï¼ˆè¦åŠƒä¸­ï¼‰
**ç›®æ¨™**ï¼šæ·±å…¥ç†è§£ä½œæ¥­ç³»çµ±å¦‚ä½•ç®¡ç†è³‡æº

| ä¸»é¡Œ | å­¸ç¿’å…§å®¹ | å¯¦ä½œ |
|------|---------|------|
| Process & Thread | fork/execã€context switchã€scheduler | å¤š process vs å¤š thread æ¯”è¼ƒã€Thread Pool |
| Memory | virtual memoryã€page faultã€cache | å±€éƒ¨æ€§å¯¦é©—ã€Memory Pool |
| I/O æ¨¡å‹ | blockingã€non-blockingã€epollã€async | Echo Serverï¼ˆä¸‰ç¨®ç‰ˆæœ¬ï¼‰ |

### ç¬¬ä¸‰ç« ï¼šNetwork å‘ï¼ˆè¦åŠƒä¸­ï¼‰
**ç›®æ¨™**ï¼šæŒæ¡ç¶²è·¯å”å®šå’Œå·¥å…·

| ä¸»é¡Œ | å­¸ç¿’å…§å®¹ | å¯¦ä½œ |
|------|---------|------|
| TCP/UDP | ä¸‰æ¬¡æ¡æ‰‹ã€æµé‡æ§åˆ¶ã€TIME_WAIT | Chat Serverã€UDP Echo |
| HTTP | request/responseã€keep-aliveã€HTTP/2 | æ‰‹åˆ» HTTP Serverã€ç”¨ Axum é‡å¯« |
| TLS & Proxy | æ¡æ‰‹æµç¨‹ã€certã€reverse proxy | HTTPS Serverã€Load Balancer |

### ç¬¬å››ç« ï¼šç¶œåˆå°ˆæ¡ˆï¼ˆè¦åŠƒä¸­ï¼‰
**ç›®æ¨™**ï¼šæ•´åˆæ‰€æœ‰çŸ¥è­˜ï¼Œå»ºç«‹å¯å±•ç¤ºçš„å°ˆæ¡ˆ

| ä¸»é¡Œ | å­¸ç¿’å…§å®¹ | å¯¦ä½œ |
|------|---------|------|
| REST æœå‹™ | JSON APIã€çµæ§‹åŒ–éŒ¯èª¤ã€logging | CRUD API with Axum |
| è§€æ¸¬ | tracingã€Prometheus metrics | åŠ å…¥ /metrics endpoint |
| èª¿å„ª | å£“æ¸¬ã€åˆ†æã€èª¿åƒ | wrk å£“æ¸¬ + htop/strace åˆ†æ |

---

## ç’°å¢ƒéœ€æ±‚

### å¿…è¦
- **Rust** 1.70+ï¼ˆå»ºè­°ç”¨ [rustup](https://rustup.rs/) å®‰è£ï¼‰
- **Linux ç’°å¢ƒ**ï¼ˆä»¥ä¸‹ä»»ä¸€ï¼‰ï¼š
  - åŸç”Ÿ Linux
  - WSL2ï¼ˆWindowsï¼‰
  - Docker
  - é›²ç«¯ VM

### å»ºè­°
- **ç·¨è¼¯å™¨**ï¼šVS Code + rust-analyzer
- **çµ‚ç«¯å·¥å…·**ï¼šhtop, strace, ss

### å®‰è£æª¢æŸ¥

```bash
# Rust
rustc --version    # æ‡‰è©² >= 1.70
cargo --version

# Linux å·¥å…·ï¼ˆåœ¨ Linux ç’°å¢ƒåŸ·è¡Œï¼‰
which strace htop ss
```

---

## å¦‚ä½•ä½¿ç”¨é€™ä»½æ•™æ

### å­¸ç¿’æµç¨‹

```
1. é–±è®€ theory.md          # ç†è§£æ¦‚å¿µ
        â†“
2. å®Œæˆ Lab å¯¦ä½œ            # å‹•æ‰‹åš
        â†“
3. ç”¨ checkpoint.md é©—æ”¶   # ç¢ºèªç†è§£
        â†“
4. é€²å…¥ä¸‹ä¸€ç« 
```

### æ¯å€‹ Lab çš„çµæ§‹

```
lab_xx_name/
â”œâ”€â”€ README.md      # å¯¦ä½œæŒ‡å—ï¼ˆç›®æ¨™ã€æ­¥é©Ÿã€æç¤ºï¼‰
â”œâ”€â”€ Cargo.toml     # ä¾è³´è¨­å®š
â”œâ”€â”€ src/
â”‚   â””â”€â”€ main.rs    # èµ·å§‹ç¨‹å¼ç¢¼
â””â”€â”€ test.txt       # æ¸¬è©¦è³‡æ–™ï¼ˆå¦‚æœéœ€è¦ï¼‰
```

### åŸ·è¡Œ Lab

```bash
# é€²å…¥ Lab ç›®éŒ„
cd chapter_01_foundation/01_rust_fundamentals/lab_01_mini_cat

# åŸ·è¡Œ
cargo run -- test.txt

# åŸ·è¡Œæ¸¬è©¦
cargo test

# Release buildï¼ˆæ•ˆèƒ½æ¸¬è©¦ç”¨ï¼‰
cargo build --release
./target/release/mini_cat test.txt
```

---

## å­¸ç¿’åŸå‰‡

### 1. ç†è«–è¦èƒ½å°æ‡‰åˆ°å¯¦ä½œ
æ¯å€‹æ¦‚å¿µéƒ½è¦èƒ½ã€Œçœ‹åˆ°å®ƒç™¼ç”Ÿã€ã€‚ä¾‹å¦‚ï¼š
- å­¸äº† syscall â†’ ç”¨ strace çœ‹åˆ° `open`, `read`, `write`
- å­¸äº†æ‰€æœ‰æ¬Š â†’ ç”¨ strace çœ‹åˆ° `close` åœ¨ drop æ™‚è¢«å‘¼å«

### 2. å…ˆæ‰‹åˆ»ï¼Œå†ç”¨æ¡†æ¶
- å…ˆæ‰‹åˆ» HTTP server â†’ å†ç”¨ Axum
- å…ˆæ‰‹å¯« Thread Pool â†’ å†ç”¨ Rayon
- é€™æ¨£ä½ æœƒæ›´æ‡‚æ¡†æ¶åœ¨å¹«ä½ åšä»€éº¼

### 3. è§€å¯Ÿç³»çµ±è¡Œç‚º
é¤Šæˆç¿’æ…£ç”¨é€™äº›å·¥å…·è§€å¯Ÿä½ çš„ç¨‹å¼ï¼š
- `htop`ï¼šCPUã€è¨˜æ†¶é«”ã€åŸ·è¡Œç·’
- `strace`ï¼šsystem call
- `ss`ï¼šç¶²è·¯é€£ç·š
- `/proc`ï¼šç¨‹åºç‹€æ…‹

---

## å­¸ç¿’é€²åº¦è¿½è¹¤

> å®Œæˆå¾Œæ‰“å‹¾ `[x]`ï¼Œè¨˜éŒ„ä½ çš„å­¸ç¿’é€²åº¦ï¼

### ç¬¬ä¸€ç« ï¼šåŸºç¤æ‰“åº•

**1.1 Rust å¼·åŒ–**
- [ ] é–±è®€ `01_rust_fundamentals/theory.md`
- [ ] å®Œæˆ Lab 1: Mini Cat/Grep
- [ ] å®Œæˆ Lab 2: å¹³è¡Œè¨ˆç®—
- [ ] ç†è§£æ‰€æœ‰æ¬Šã€å€Ÿç”¨ã€ç”Ÿå‘½é€±æœŸ
- [ ] ç†è§£ Arc/Mutex/Channel çš„ä½¿ç”¨å ´æ™¯

**1.2 Linux åŸºç¤**
- [ ] é–±è®€ `02_linux_basics/theory.md`
- [ ] å®Œæˆ Lab 3: strace è§€å¯Ÿ
- [ ] å®Œæˆ Lab 4: Mini PS
- [ ] æœƒç”¨ strace è¿½è¹¤ç¨‹å¼
- [ ] ç†è§£ /proc è™›æ“¬æª”æ¡ˆç³»çµ±

**ç¬¬ä¸€ç« é©—æ”¶**
- [ ] å®Œæˆ `checkpoint.md` çš„è‡ªæˆ‘æ¸¬é©—
- [ ] èƒ½è§£é‡‹ã€Œç¨‹å¼ç¢¼ â†” syscallã€çš„å°æ‡‰é—œä¿‚

---

### ç¬¬äºŒç« ï¼šOS å‘ï¼ˆè¦åŠƒä¸­ï¼‰

**2.1 Process & Thread**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: å¤š process vs å¤š thread æ¯”è¼ƒ
- [ ] å®Œæˆ Lab: Thread Pool

**2.2 Memory**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: å±€éƒ¨æ€§å¯¦é©—
- [ ] å®Œæˆ Lab: Memory Pool

**2.3 I/O æ¨¡å‹**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: Blocking Echo Server
- [ ] å®Œæˆ Lab: Non-blocking (mio) Echo Server
- [ ] å®Œæˆ Lab: Async (Tokio) Echo Server

---

### ç¬¬ä¸‰ç« ï¼šNetwork å‘ï¼ˆè¦åŠƒä¸­ï¼‰

**3.1 TCP/UDP**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: TCP Chat Server
- [ ] å®Œæˆ Lab: UDP Echo
- [ ] ç”¨ tcpdump/Wireshark è§€å¯Ÿå°åŒ…

**3.2 HTTP**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: æ‰‹åˆ» HTTP Server
- [ ] å®Œæˆ Lab: ç”¨ Axum é‡å¯«

**3.3 TLS & Proxy**
- [ ] é–±è®€ç†è«–
- [ ] å®Œæˆ Lab: HTTPS Server
- [ ] å®Œæˆ Lab: Reverse Proxy
- [ ] å®Œæˆ Lab: Load Balancer

---

### ç¬¬å››ç« ï¼šç¶œåˆå°ˆæ¡ˆï¼ˆè¦åŠƒä¸­ï¼‰

**4.1 REST æœå‹™**
- [ ] å¯¦ä½œ CRUD API
- [ ] åŠ å…¥çµæ§‹åŒ–éŒ¯èª¤è™•ç†
- [ ] åŠ å…¥ logging (tracing)

**4.2 è§€æ¸¬**
- [ ] åŠ å…¥ Prometheus metrics
- [ ] æš´éœ² /metrics endpoint

**4.3 èª¿å„ª**
- [ ] ç”¨ wrk å£“æ¸¬
- [ ] ç”¨ htop/strace åˆ†æ
- [ ] è¨˜éŒ„èª¿å„ªçµè«–

---

### ç¸½é€²åº¦

| ç« ç¯€ | ç‹€æ…‹ | å®Œæˆæ—¥æœŸ |
|------|------|---------|
| ç¬¬ä¸€ç« ï¼šåŸºç¤æ‰“åº• | ğŸ”„ é€²è¡Œä¸­ | |
| ç¬¬äºŒç« ï¼šOS å‘ | â³ ç­‰å¾…ä¸­ | |
| ç¬¬ä¸‰ç« ï¼šNetwork å‘ | â³ ç­‰å¾…ä¸­ | |
| ç¬¬å››ç« ï¼šç¶œåˆå°ˆæ¡ˆ | â³ ç­‰å¾…ä¸­ | |

---

## åƒè€ƒè³‡æº

### æ›¸ç±
- [The Rust Programming Language](https://doc.rust-lang.org/book/)
- [Rust by Example](https://doc.rust-lang.org/rust-by-example/)
- [Linux System Programming](https://www.oreilly.com/library/view/linux-system-programming/9781449341527/)

### ç·šä¸Šè³‡æº
- [Tokio Tutorial](https://tokio.rs/tokio/tutorial)
- [Beej's Guide to Network Programming](https://beej.us/guide/bgnet/)

### å·¥å…·æ–‡ä»¶
- `man strace`
- `man proc`
- `man 2 syscalls`

---

## æˆæ¬Š

æœ¬æ•™æåƒ…ä¾›å€‹äººå­¸ç¿’ä½¿ç”¨ã€‚
# operating_system_and_network_learning_for_backend-
